> A simply reproducible Linux kernel playground. It creates a sandbox container where you can checkout, compile and run the
> latest linux kernel with qemu.

![Picture](https://viewer.diagrams.net/?tags={}&highlight=0000ff&edit=_blank&layers=1&nav=1&title=aos.drawio#R7VpZc9s2EP41nmkf5KFIkZIebVlOj6RN6tY53iASJBGBBANClpRfX4AEDxCQbEWm5DS1Z2xisbi%2BPbAL4MKZJZtXFGTxGxJAfGFbwebCubmw7fHE4n8FYVsSRtNJSYgoCkrSsCHcoa9QEmW7aIUCmCuMjBDMUKYSfZKm0GcKDVBK1ipbSLA6agYiqBHufIB16nsUsFhSPctqKn6BKIrl0NOqIgEVsyTkMQjIukVy5hfOjBLCyq9kM4NYYFfhcoXfzJO7yfjPd28GWfJ2SuPxp0HZ2e0hTeolUJiy5%2B3aKbt%2BAHgl8ZJrZdsKQEpWaQBFJ8ML53odIwbvMuCL2jXXGE6LWYJldYgwnhFMaNHWCV3xy%2Bk5o2QJWzVe8SNakJS16OUPp8uJQcrgpiPJR2AY1rLhOg1JAhnd8nZVL5U4pT6PZXHdKIdbscQtvXAqIpAKGdVdN6DzD4n7ATKwe5ZBGNq%2Bb5JB4C081%2BsRa9tTsZ7qWDsjA9b2pC%2BsRxrWW7KihbX7MUqhhjxHhKnwqjCmhDdSMZckgFGU8qLPEYScfi3wRdwxXcmKBAWBGMYoz0biVp%2FG4KoCcjxdQkYB9SUfV5MPxy5BKShapmLziGG5WzDA5UV%2FMIE5047ARrrAJqcUmNev8woAnIRG5%2BX5E7gIe4R6NFKhHlo61EOjcfQG9lgD%2BwtMVoKSvFA7ELu7jAmHfdrFqGMX9tQ7ryMbuppEYMADU1kklMUkItyvzRtqB7uG5zUhmRTiZ8jYViIKVoyoIoYbxD60vj%2BKri5dWbrZyJ6LwlZxVWJy3yAQvkC%2Bf%2FpwD59MFxigEdzbn2OWMIUYMPSgzu7Z5TXRTOt3SFORCnkgEXqdLvKsQMvDwq4WVBGu92Ul0oBC3wd5IZ4rzjDNNmUbWc2%2FIvEfJSJr0RQEY54V7TKslphBnpWpUog2Ql3aZjbtc%2FcZd1yiIaAzWdmoNyvzvhcr47DT7Yd2odVKFJtmRelU1jl9qnWOzmmdU806KUgClC%2B%2Ffxuy3XPbkH4GsJSuzzL7qYMCut52fLfri1w9PDMm8r0BqSeXu7T0RSJou%2BdG0Hb2unO%2BWMS2fxUeh6QncOnjF%2BnTH%2FXV0yNdtWz6liA%2BncZxWR11GXfUoNxrZKuOJtTTOEI59LOBKhgL0MNTorGhtSMcq%2FrJM5Ae1JFVVpT8oiYlNAG4VbeWdiMqR1YpfQtzXYR0wIfzURrpLUXuNkBco1PZsh6vqGEUpHnI%2BauWRdomDJfQQO21bsjdUIbBtqSiFKOqTYgJYJ2OdHxuc5%2BijOX8a7FCOBiE%2BWUeV7iJ%2BgI6FU5OLiRTUc0Z6mP7dDcb7aaUonwLEoSFXv6a%2BiTNCVd0ULFWEVDMWMbn74qlulw5xR%2FBkF9GhEQYggzllz5Jigo%2FL1hvw7Jj%2FmnousqbAxiCVbFiDBYQXwN%2FGRUeqXVccVv8nPCs1RRXDIcn9eams6GTGqzZLl%2B69VmHoiD4xSBcMwdlW%2BoraJSqLzrjar9D6QuVrxVeVffWyEcJTfMiS9WJlAvRnMj%2FvuXcvmXiqrG2ybdYbj%2B%2BZfYbvH5H0Pzz7P4tuL%2BxXlneP3V6e0je76%2FoQx1zP1vE2CT%2BH1s15oDxfOokl9Fc9j3LicL715%2B389h6YF%2FXs%2Fv1Eg4%2B%2FfF3daX8aJQ6OTJKfar%2B7Juk4bivWuB3f7BQb%2FYnOFgw2qht2P47oComCdPgSjz4EA4ZgzxHvgrs2a2n3hJ05xyAPK4XcpSF6fJtv0wwyK%2BiHZne2Z3rLvdp2Z2eJnbVsHvFUjoGrSMuerBtsWWCId%2BTjjrmcXbNq74WVd99NApeTuBbU1ajBeheJiDrlId8YuexLSJi19ZNtlUERbtimf%2FojbbdkaPhQnvoGNT%2BOW7ujELb9wThh5KM9jjkiRtKb5IZv5ig7xuPCZuTwTpW3HNMqOwpL3nze8aI0ih374kRpXuiiHLfJA2HHfsPKaqEW6TO9WWzeAg54v%2BRkoSrdYJ%2F53FBVbeo88WBX8pNsNBo8VNx2s9H5Ku1Ot8%2FG48aytFlyUrAEjY7VnMnvp%2B9euRramDO9o%2B5OKmcLIZh01kPftLpnrzp9yimN1kV2wGqyIvNe%2BMySmkebTvzfwE%3D)

## Instructions

- To build the container: `make build` (this also checks out and compiles the
  latest version of the Linux kernel)

- To open a terminal in the container: `make connect`

- In the container

  - run `/scripts/build-fs.sh` to build up the initial ram disk and then
    `start-qemu.sh` to launch the kernel

  - If you want to modify the kernel code, rerun `/scripts/build-k.sh` to
    rebuild it

- To disconnect from qemu: CTRL-a x

## References

- https://www.collabora.com/news-and-blog/blog/2017/01/16/setting-up-qemu-kvm-for-kernel-development/
- https://github.com/gurugio/book_linuxkernel_blockdrv/blob/master/environment.md
- https://github.com/cirosantilli/linux-kernel-module-cheat#u-boot
